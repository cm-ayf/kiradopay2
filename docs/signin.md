# サインイン

[戻る](index.md)

サインインには，指定された Discord サーバーにいる Discord ユーザーが必要です．

`READ`ロールが指定されている場合，画面を表示するにはそのロールを持っている必要があります．指定されていない場合はサーバーのすべてのユーザーが画面を表示できます．きらら同好会では指定されていません．
`REGISTER`ロールが指定されている場合，レジの打ち込みを行うにはそのロールを持っている必要があります．指定されていない場合はサーバーのすべてのユーザーがレジの打ち込みを行えます．きらら同好会では Kiradopay register ロールが指定されています．
`WRITE`ロールが指定されている場合，イベント情報・商品情報を管理するにはそのロールを持っている必要があります．指定されていない場合はサーバーのすべてのユーザーがイベント情報・商品情報を管理できます．きらら同好会では Kiradopay write ロールが指定されています．

## サインインする

認証されていない状態では，右上のボタンが「サインイン」になり，左下に「サインインしてください」とのポップアップが出てきます．「サインイン」を押してサインインします．

サインインボタンを押すと，Discord の認証画面に遷移します．指定された Discord サーバーにいる Discord ユーザーでサインインし，外部アプリケーション「Kiradopay」を認証してください．

認証ボタンを押すと，トップページに戻ってきて，右上のボタンが自分の Discord ユーザー名とアイコンになります．

## サインアウトする

サインインしている状態では，右上のボタンが自分の Discord ユーザー名とアイコンになっています．このボタンを押すとプルダウンメニューが出てきます．「サインアウト」を押すとサインアウトし，トップページに遷移します．

## ロール付与に関する注意

ロールが指定されている場合，画面表示やレジの打ち込み，イベント・商品情報の編集を行うために新しくロールを付与することになります．

すでにサインインした Discord ユーザーにロールを付与したとき，**レジの打ち込みなどを行うには一度サインアウトしてからサインインし直す必要があります**．これは，サインイン時にだけ Discord にロールを含むユーザー情報を問い合わせるためです．
